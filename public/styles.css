/* styles.css */
:root {
  color-scheme: light dark;
  font-family: "Geist Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;

  /* NEW: header height used for centering below header */
  --header-height: 170px;
}

body {
  margin: 0;
  min-height: 100vh;
  background: #BFBFBF;
}

/* Keep main hidden until consent, but header stays visible */
body:not(.has-consent) .page {
  visibility: hidden;
}

/* ================= HEADER ================= */

.site-header {
  background: #fff;
  width: 100%;
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  font-size: 28px;
  font-weight: 700;
}

/* remove caret / text-cursor illusion on header */
.site-header * {
  caret-color: transparent;
  user-select: none;
  -webkit-user-select: none;
  outline: none;
}

.header-inner {
  padding: 24px 18px 32px; /* taller header */
  box-sizing: border-box;
}

/* 2 rows × 3 columns:
(Guide/More) | (Logo) | (Visits Today)
(blank) | (Payout) | (XXXX)
*/
.header-grid {
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* logo dead center */
  grid-template-rows: auto auto;
  align-items: center;
  column-gap: 0;
  row-gap: 22px; /* distance between top row and bottom row */
}

/* Left top */
.header-left {
  grid-column: 1;
  grid-row: 1;
  display: flex;
  justify-content: space-evenly;
  gap: 28px;
  min-width: 0;
}

.nav-link {
  color: #000;
  text-decoration: none;
  white-space: nowrap;
  font-weight: 700;
  cursor: pointer;
}

.nav-link:hover,
.nav-link:focus {
  text-decoration: none;
}

/* Center top */
.header-logo {
  grid-column: 2;
  grid-row: 1;
  justify-self: center;
  color: #000;
  text-decoration: none;
  white-space: nowrap;
  font-weight: 700;
  cursor: pointer;
}

.header-logo:hover,
.header-logo:focus {
  text-decoration: none;
}

/* Right top: Visits Today (positioned between logo and right edge) */
.visits-label {
  grid-column: 3;
  grid-row: 1;
  justify-self: center; /* this is the “middle of the right section” */
  color: #000;
  white-space: nowrap;
  font-weight: 700;
  cursor: default;
}

/* Row 2 / Col 1 spacer */
.header-left-spacer {
  grid-column: 1;
  grid-row: 2;
}

/* Center bottom: payout under logo */
.payout-line {
  grid-column: 2;
  grid-row: 2;
  justify-self: center;
  color: #0a8f3c;
  white-space: nowrap;
  font-weight: 700;
  cursor: default;
}

/* Right bottom: XXXX under Visits Today (same column, same justify-self) */
.visits-count {
  grid-column: 3;
  grid-row: 2;
  justify-self: center; /* ties under Visits Today, not under payout */
  color: #000;
  white-space: nowrap;
  font-weight: 700;
  cursor: default;
}

/* ================= MAIN ================= */

.page {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  min-height: calc(100vh - var(--header-height)); /* CHANGED: was 170px */
}

/* NEW: symmetric layout for home view */
.home-layout {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 48px;
  padding: 0 64px;
  box-sizing: border-box;
}

.side-box {
  background: #fff;
  width: clamp(220px, 24vw, 460px);
  height: clamp(280px, 56vh, 560px);
  flex: 0 0 auto;
}

.center-slot {
  /* CHANGED: perfect centering in the area BELOW the header */
  position: fixed;
  left: 50%;
  top: calc(var(--header-height) + (100vh - var(--header-height)) / 2);
  transform: translate(-50%, -50%);
  z-index: 10;

  flex: 0 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.button-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ================= COUNTDOWN BUTTON (ouroboros) ================= */

.countdown-button {
  --core-size: 220px;
  --shell-size: 22px;

  width: calc(var(--core-size) + (var(--shell-size) * 2));
  height: calc(var(--core-size) + (var(--shell-size) * 2));
  border-radius: 50%;

  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;

  user-select: none;
  -webkit-user-select: none;
  caret-color: transparent;
  outline: none;

  transform: translate(0px, 0px) rotate(0deg);
}

.countdown-button:focus,
.countdown-button:focus-visible {
  outline: none;
}

/* When finished (remaining=0): disable interactions + default cursor */
.countdown-button.is-finished {
  cursor: default;
  pointer-events: none;
}

.countdown-core {
  width: var(--core-size);
  height: var(--core-size);
  border-radius: 50%;
  background: #fff;
  color: #000;

  display: flex;
  align-items: center;
  justify-content: center;

  font-size: 64px;
  font-weight: 600;
  line-height: 1;

  pointer-events: none;
  position: relative;
  z-index: 3;

  transition: background-color 120ms linear;
}

/* Core turns red at <= 10s and stays red at 0 */
.countdown-core.is-danger {
  background: #ff2a2a;
}

.countdown-ring {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.ring-bg {
  fill: none;
  stroke: #000;
  stroke-width: var(--shell-size);
}

.body-seg {
  fill: none;
  stroke-linecap: round;
}

svg {
  shape-rendering: geometricPrecision;
}

/* ================= SHAKE (unchanged; not used) ================= */

.shake-subtle {
  animation: shake-subtle 0.18s infinite;
}

.shake-medium {
  animation: shake-medium 0.14s infinite;
}

.shake-heavy {
  animation: shake-heavy 0.1s infinite;
}

@keyframes shake-subtle {
  0%,
  100% { transform: translate(0, 0); }
  20% { transform: translate(-0.5px, 0.5px); }
  40% { transform: translate(0.6px, -0.4px); }
  60% { transform: translate(-0.4px, -0.5px); }
  80% { transform: translate(0.5px, 0.4px); }
}

@keyframes shake-medium {
  0%,
  100% { transform: translate(0, 0); }
  20% { transform: translate(-1px, 1px); }
  40% { transform: translate(1.2px, -0.8px); }
  60% { transform: translate(-1px, -1px); }
  80% { transform: translate(0.8px, 1px); }
}

@keyframes shake-heavy {
  0%,
  100% { transform: translate(0, 0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(2.5px, -2px); }
  60% { transform: translate(-2.5px, -2px); }
  80% { transform: translate(2px, 2.5px); }
}

/* ================= COOKIE MODAL (unchanged) ================= */

.cookie-modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 24px;
}

.cookie-modal.is-visible {
  display: flex;
}

.cookie-card {
  background: #fff;
  color: #111;
  padding: 24px;
  border-radius: 12px;
  max-width: 420px;
  width: 100%;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);
}

.cookie-card h1 {
  margin-top: 0;
  font-size: 22px;
}

.cookie-card ul {
  padding-left: 18px;
}

.cookie-actions {
  margin-top: 16px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.cookie-actions button {
  background: #000;
  color: #fff;
  border: none;
  padding: 10px 18px;
  border-radius: 6px;
  cursor: pointer;
}

.cookie-error {
  margin-top: 12px;
  color: #b00020;
}

.cookie-status,
.cookie-note {
  margin-top: 12px;
  color: #444;
}

/* ================= RESPONSIVE (no wrapping; shrink instead) ================= */

@media (max-width: 520px) {
  .site-header { font-size: 16px; }
  .header-inner { padding: 16px 10px 20px; }
  .header-grid { row-gap: 16px; }
  .header-left { gap: 14px; }
}

@media (prefers-color-scheme: dark) {
  body { background: #BFBFBF; }

  /* header remains white */

  .cookie-card { background: #1a1a1a; color: #fff; }
  .cookie-status,
  .cookie-note { color: #d0d0d0; }
}
